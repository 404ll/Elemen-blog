---
title: "é—­åŒ…åˆ°é˜²æŠ–&èŠ‚æµ"
date: "2026-01-6"
excerpt: "å‡†å¤‡ JS å…«è‚¡çš„æ—¶å€™å‘ç°ï¼Œé—­åŒ…çš„å®é™…åº”ç”¨åœºæ™¯ä¸»è¦é›†ä¸­åœ¨é˜²æŠ–ã€èŠ‚æµï¼Œå› æ­¤æˆ‘æŠŠè¿™äº›å†…å®¹ç»Ÿä¸€æ•´ç†åœ¨ä¸€èµ·ï¼Œä»é—­åŒ…æœ¬èº«å‡ºå‘å»ç†è§£å®ƒä»¬ã€‚"
category: "frontend"
---

## é—­åŒ…

å‡½æ•°èƒ½å¤Ÿè®¿é—®å¹¶è®°ä½å…¶è¯æ³•ä½œç”¨åŸŸï¼Œå³ä½¿è¯¥å‡½æ•°åœ¨å…¶å®šä¹‰ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œ

```jsx
function add() {
  let count = 0;
  return function () {
    count++;
    return count;
  };
}

const counter = add();

counter(); // 1
counter(); // 2
counter(); // 3
```

`add` æ‰§è¡Œåæœ¬åº”é”€æ¯å†…éƒ¨çš„ `count` ï¼Œä½†ç”±äºè¿”å›çš„å†…éƒ¨å‡½æ•° **å¼•ç”¨äº† `count` ï¼Œ**`count` è¢«ä¿å­˜åœ¨é—­åŒ…ä¸­ï¼Œå¾—ä»¥åœ¨å¤šæ¬¡è°ƒç”¨ä¸­æŒç»­ç´¯åŠ  ï¼šé—­åŒ… ğŸ‘‰ **åœ¨å¤šæ¬¡å‡½æ•°è°ƒç”¨ä¹‹é—´å…±äº«å’Œä¿å­˜çŠ¶æ€**

## é˜²æŠ– & èŠ‚æµ

é˜²æŠ–å’ŒèŠ‚æµéƒ½æ˜¯ä¸€ç§ä¼˜åŒ–æ‰‹æ®µï¼Œç”¨æ¥ä¿è¯ç¨‹åºåº”å¯¹é«˜å¹¶å‘åœºæ™¯ï¼Œä¸¤è€…çš„æ ¸å¿ƒç›®æ ‡éƒ½æ˜¯ï¼š**åœ¨é«˜é¢‘è§¦å‘çš„åœºæ™¯ä¸‹ï¼Œæ§åˆ¶å‡½æ•°çš„æ‰§è¡Œæ—¶æœºã€‚**

### é˜²æŠ–

å°±æ˜¯å³ä½¿æ“ä½œå¤šæ¬¡è§¦å‘ï¼Œä½†æ˜¯æˆ‘ä»¬**åªå¤„ç†æœ€åä¸€æ¬¡**ï¼Œå¯ä»¥æŠŠé˜²æŠ–ç†è§£ä¸ºï¼šåªè¦ä½ è¿˜åœ¨æ“ä½œï¼Œæˆ‘å°±ä¸æ‰§è¡Œï¼›ç­‰ä½ åœä¸‹æ¥ä¸€æ®µæ—¶é—´ï¼Œæˆ‘å†æ‰§è¡Œã€‚

é˜²æŠ–å¸¸è§äºä»¥ä¸‹åœºæ™¯ï¼š

- æœç´¢æ¡†è¾“å…¥è”æƒ³
- è¾“å…¥æ ¡éªŒ
- `resize` äº‹ä»¶

> **`resize`** æ˜¯æµè§ˆå™¨çš„ä¸€ä¸ª **çª—å£å°ºå¯¸å˜åŒ–äº‹ä»¶**ã€‚
> 
> 
> å½“ç”¨æˆ·è¿›è¡Œä»¥ä¸‹æ“ä½œæ—¶ï¼Œéƒ½ä¼šè§¦å‘ `resize`ï¼š
> 
> - æ‹–åŠ¨æµè§ˆå™¨çª—å£å¤§å°
> - æœ€å¤§åŒ– / è¿˜åŸçª—å£
> - æ”¹å˜è®¾å¤‡æ–¹å‘ï¼ˆç§»åŠ¨ç«¯æ¨ªç«–å±åˆ‡æ¢ï¼‰
> - æ”¹å˜è§†å£å¤§å°ï¼ˆå¦‚ DevTools æ‰“å¼€/å…³é—­ï¼‰

```jsx
function debounce(fn, delay) {
  // å‡†å¤‡ä¸€ä¸ªâ€œå–æ¶ˆæ‰§è¡Œâ€çš„å¼€å…³
  let timer = null;

  return function (...args) {
    // æ¯æ¬¡è§¦å‘éƒ½å…ˆå–æ¶ˆä¸Šä¸€æ¬¡
    clearTimeout(timer);

    // é‡æ–°çº¦å®šï¼šdelay ä¹‹åå†æ‰§è¡Œ
    timer = setTimeout(() => {
      fn.apply(this, args);
    }, delay);
  };
}
const debouncedFn = debounce(search, 300);
//è§¦å‘ â†’ æ¸…é™¤å®šæ—¶å™¨
//è§¦å‘ â†’ æ¸…é™¤å®šæ—¶å™¨
//è§¦å‘ â†’ æ¸…é™¤å®šæ—¶å™¨
//åœæ­¢æ“ä½œ â†’ æ‰§è¡Œå‡½æ•°
```

### èŠ‚æµ

äº‹ä»¶å¯ä»¥ä¸€ç›´è§¦å‘ï¼Œä½†å‡½æ•°**æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œ**

èŠ‚æµé€šå¸¸ç”¨äºï¼š

- é¡µé¢æ»šåŠ¨ï¼ˆscrollï¼‰
- æ‹–æ‹½ï¼ˆdragï¼‰
- é«˜é¢‘ç‚¹å‡»

```jsx
function throttle(fn, delay) {
  let timer = null;

	  return function (...args) {
	  if (timer) return;
	
	  timer = setTimeout(() => {
	    // ä¿æŒåŸæœ¬çš„ this å’Œå‚æ•°
	    fn.apply(this, args);
	    // é‡Šæ”¾é”
	    timer = null;
	  }, delay);
	};
}
const throttled = throttle(fn, 1000);
```